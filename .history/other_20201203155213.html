<html style="overflow-x:hidden;overflow-y:auto; WORD-BREAK:break-all">

<head>
    {% load static from staticfiles %}
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>jean同步配置</title>
        <link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
        <script src="https://cdn.staticfile.org/jquery/2.1.1/jquery.min.js"></script>
        <script src="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
 
    <style type="text/css">
        table,
        caption,
        tr {
            padding: 15px;
            text-align: center;
        }

        .getbutton {
            font-size: 12px;
        }

        div {

                {
                #margin: 10px;
                #
            }
        }

        .divfloat {
            float: left;
            height: 280px;
            width: 30%;
        }

        .column {
            width: 40%;
            height: 100%;
            margin: 1px;

        }

        .formbolder {
            border: 2px solid #d9edf7;
            box-shadow: 1px 1px 1px 1px black;
            padding-bottom: 10px;
        }

        .infos {}

        form:hover {
            background-color: #85b4cc10;
            box-shadow: 2px 2px 3px 1px black;
        }
    </style>
</head>
<script src="http://libs.baidu.com/jquery/1.9.0/jquery.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<script type="text/javascript" charset="utf-8">
    $(function () {
        $("#cardNoDiv").hide();
        $("#showdevrt").hide();
        $("#showrt").hide();
        $("#showbool").hide();


        if (!$("#customerLever").text()) {
            $("#customerLever").hide();
        }

        $("#subbtn").click(function () {
            var pno = $("#pno").val();
            var pw = $("#pw").val();
            if ($("#vcode").val() == "") {
                vcode = " ";
            } else {
                vcode = $("#vcode").val();
            }
            // alert("vcode:"+vcode+'1');
            $.ajax({
                type: "post",
                url: "/getCardno",
                data: {
                    pno: pno,

                },
                async: false,
                success: function (msg) {
                    $("#cardNoDiv").show();
                    var label = document.getElementById("showcard");
                    label.innerHTML = "" + msg;

                }
            });
        });

        $("#newcardsubbtn").click(function () {

            var cardno = $("#cardno").val();
            $.ajax({
                type: "post",
                url: "/flushNewuser",
                data: {
                    cardno: cardno,

                },
                async: false,
                success: function (m) {
                    console.log(m);
                    $("#showrt").show();
                    var lab = document.getElementById("showrt");
                    lab.innerHTML = m;

                }
            });
        });

        $("#newdevsubbtn").click(function () {
            var devno = $("#devno").val();
            $.ajax({
                type: "post",
                url: "/flushNewdevice",
                data: {
                    devno: devno,

                },
                async: false,
                success: function (m) {
                    console.log(m);
                    var lab = document.getElementById("showdevrt");
                    lab.innerHTML = m;
                    $("#showdevrt").show();
                }
            });
        });

        $("#isnewcardsubbtn").click(function () {
            var phoneno = $("#phoneno").val();
            $.ajax({
                type: "post",
                url: "/getIsElongNewMember",
                data: {
                    phoneno: phoneno,

                },
                async: false,
                success: function (m) {
                    console.log(m);
                    $("#showbool").show();
                    var lab = document.getElementById("showbool");
                    lab.innerHTML = m;
                }
            });
        });
        function isJSON(str) {
            if (typeof str === 'string') {
                try {
                    let obj = JSON.parse(str);
                    if (typeof obj === 'object' && obj) {
                        return obj;
                    } else {
                        return false;
                    }
                } catch (error) {
                    console.log(error);
                    return false;
                }
            }
        }

        $('#changetoyaml').click(function () {
            var input = $('#jsonid').val();
            $('#yaml').empty();
            console.log("input is:" + input);
            if (input == null || input == "") {
                alert("要转换的json字符串为空，请添加后重试！");
                return false;
            } else if (!isJSON(input)) {
                alert("您输入的内容非正规json格式，请检查后重试！");
                return false;
            }
            else {
                $('#jsonid').html().clear;
                return true;
            }
        });


    });


</script>

<body>

    <div class="container">

        <div>
            <div class="divfloat">
                <p>文本传输：app<span style="color:gray;font-size: 10px;">(常用于上传参数至电脑端)</span></p>
                <img src="{%   static 'app_new.png' %}" alt="图片下载" width="200px">
                {#                <a href="http://10.160.84.95:8080/app/index.php" target="_blank">>>app</a>#}
                <a href="../getStr" target="_blank">>>app</a>
            </div>
            <div class="divfloat">
                <p>文本传输：app<span style="color:gray;font-size: 10px;">(常用于上传参数至电脑端)</span></p>
                <img src="{%   static 'app_new.png' %}" alt="图片下载" width="200px">
                <a href="../getStr" target="_blank">>>app</a>
            </div>
            <!--            <div class="divfloat">
                            <p>文本传输：app1<span style="color:gray;font-size: 10px;">(常用于上传参数至电脑端)</span></p>
                            <img src="{%   static 'app1.jpg' %}" alt="图片下载" width="200px">
                            <a href="http://10.160.84.95:8080/app1/index.php" target="_blank">>>app1</a>
                        </div>
                        -->
            <div>
                <p>截图上传<span style="color:gray;font-size: 10px;">（扫码上传截图，电脑端图片下载地址下载）</span></p>
                <img src="{%   static 'qrcode_new.png' %}" alt="图片下载" width="200px">
                <a href="http://10.160.84.95:7777/" target="_blank">>>图片下载</a>
            </div>
        </div>
        <div class="row">
            <form class="form-horizontal formbolder" style="margin-top: 20px">
                <div align="center" style="padding: 20px 0">
                    <h3>手机号查卡号</h3>
                </div>
                <div class="form-group">
                    <label for="pno" class="col-sm-2 control-label">手机号</label>
                    <div class="col-sm-8">
                        <input type="text" class="form-control" id="pno" placeholder="请输入注册的手机号">
                    </div>
                </div>
                <div class="form-group" id="cardNoDiv">
                    <label for="pno" class="col-sm-2 control-label">卡 号 </label>
                    <div class="col-sm-8">
                        <label type="text" class="form-control" id="showcard" placeholder=""></label>
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-sm-offset-2 col-sm-10">
                        <input type="button" class="btn btn-primary" id="subbtn" value="查询"></input>
                        <span style="hight:10px"></span>
                    </div>
                </div>

            </form>
            <ul class="nav nav-list">
                <li class="divider"></li>
            </ul>
            <form class="form-horizontal formbolder">
                <div align="center" style="padding: 20px 0">
                    <h3>刷为新客</h3>
                </div>
                <div class="form-group">
                    <label for="cardno" class="col-sm-2 control-label">卡号</label>
                    <div class="col-sm-8">
                        <input type="text" class="form-control" id="cardno" placeholder="请输入卡号">
                    </div>
                </div>
                <div class="form-group">
                    <label for="devno" class="col-sm-2 control-label">设备号</label>
                    <div class="col-sm-8">
                        <input type="text" class="form-control" id="devno" placeholder="请输入设备号">
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-sm-offset-2 col-sm-10">
                        <input type="button" class="col-sm-3 btn btn-primary" id="newcardsubbtn" value="刷卡号"></input>
                        <span class="col-sm-3"></span>
                        <input type="button" class="col-sm-3 btn btn-primary" id="newdevsubbtn" value="刷设备号"></input>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-2"></div>
                    <div class="col-md-3 alert alert-success " role="alert" id="showrt"
                        style="display: block;width: 346px;">
                    </div>
                    <div class="col-md-1"></div>
                    <div class="col-md-3 alert alert-success " role="alert" id="showdevrt"
                        style="display: block;width: 346px;"></div>


                </div>
            </form>
            <form class="form-horizontal formbolder">
                <div align="center" style="padding: 20px 0">
                    <h3>查询手机号是否为新客</h3>
                </div>
                <div class="form-group">
                    <label for="phoneno" class="col-sm-2 control-label">手机号</label>
                    <div class="col-sm-8">
                        <input type="text" class="form-control" id="phoneno" placeholder="请输入手机号">
                    </div>
                </div>

                <div class="form-group">
                    <div class="col-sm-offset-2 col-sm-10">
                        <input type="button" class="col-sm-3 btn btn-primary" id="isnewcardsubbtn" value="查 询"></input>

                    </div>
                </div>
                <div class="row">
                    <div class="col-md-2"></div>
                    <div class="col-md-3 alert alert-success " role="alert" id="showbool"
                        style="display: block;width: 346px; margin-left: 10">
                    </div>
                </div>
            </form>
            <form action="gradequery" method="get" class="form-horizontal formbolder">
                <div align="center" style="padding: 20px 0">
                    <h3>获取会员等级</h3>
                </div>
                <div class="form-group">
                    <label class="col-sm-2 control-label">卡号</label>
                    <div class="col-sm-8">
                        <input type="text" class="form-control" name="cardno" placeholder="请填卡号" value={{ cardno }}>
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-sm-offset-2 col-sm-10">
                        <button type="submit" class="col-sm-3 btn btn-primary">查 询</button>
                        <div class="col-md-2"></div>
                        <h5 class="col-md-3 " id="customerLever" style="display: block;width: 346px; margin-left: 10">
                            {{ grade_name }} &nbsp; {{ grade_id }} </h5>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-2"></div>
                </div>
            </form>
            <form action="isnewmember" method="get" class="form-horizontal formbolder">
                <div align="center" style="padding: 20px 0">
                    <h3>T侧memberId是否新会员</h3>
                </div>
                <div class="form-group">
                    <label class="col-sm-2 control-label">T测memberid</label>
                    <div class="col-sm-8">
                        <input type="text" class="form-control" name="memberid" placeholder="(T)memberid" value="">
                    </div>
                </div>
                <!--               <td><input type="text" name="memberid" placeholder="(T)memberid" value=""></td>-->
                <div class="form-group">
                    <div class="col-sm-offset-2 col-sm-10">
                        <button type="submit" class="col-sm-3 btn btn-primary" value={{ memberid }}>查 询</button>
                        <h5 class="col-md-3  " role="alert" id="isTNewmember"
                            style="display: block;width: 346px; margin-left: 10">
                            {{ isnewmember }} &nbsp &nbsp; </h5>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-2"></div>

                </div>

                <!--               <td><button type="submit" value={{ memberid }}>是否新会员</button></td>-->
                <!--              <td><label> {{ isnewmember }}</label></td>-->
            </form>
        </div>

        <hr />

        <div>
            <hr />
            {# <p>JSON转换YAML</p>#}
            <form action="/changetoyaml" method="POST">
                <textarea class="column " id="jsonid" name="jsonstr">请输入json格式字符串如：{ "version" : "9.53.3"}</textarea>
                <button id="changetoyaml">json转换为YAML=></button>
                <textarea id="yaml" class="column ">{{ key }}</textarea>

            </form>

        </div>
    </div>
</body>

</html>