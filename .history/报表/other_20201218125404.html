<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="width=device-width" />
    <title>datetimpicker测试</title>
    <!--图标样式-->
    <link href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.bootcss.com/bootstrap-datetimepicker/4.17.47/css/bootstrap-datetimepicker.min.css"
        rel="stylesheet">
    <script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.js"></script>
    <script src="https://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="https://cdn.bootcss.com/moment.js/2.24.0/moment-with-locales.js"></script>

    <script src="https://cdn.bootcss.com/bootstrap-datetimepicker/4.17.47/js/bootstrap-datetimepicker.min.js"></script>
</head>

<body>


    <div class="container">
        <div class="row">

            <form class="form-inline">

                <div class="form-group">

                    <label class="control-label">日期：</label>
                    <div class='input-group date' id='datetimepicker1'>
                        <input type='text' class="form-control" />
                        <span class="input-group-addon">
                            <span class="glyphicon glyphicon-calendar"></span>
                        </span>
                    </div>
                    <label class="control-label">~~~~</label>
                    <div class='input-group date' id='datetimepicker2'>
                        <input type='text' class="form-control" />
                        <span class="input-group-addon">
                            <span class="glyphicon glyphicon-calendar"></span>
                        </span>
                    </div>
                </div>
                <div class="form-group">
                    <button type="button" class="btn btn-success" id="#" onclick="serch()">查询</button>
                   
                </div>

            </form>
        </div>
    </div>


  

    <script type="text/javascript">
    function serch() {

        var start = $("#datetimepicker1").find("input").val();
        var end = $("#datetimepicker2").find("input").val();
        if (start.length == 0 && end.length == 0) {
            // 默认查询最近前一天数据
            var start = getNowFormatDate();
            var end = getNowFormatDate();
        } else if (start.length == 0 && end.length != 0) {

            return alert('结束日期不能为空！！!')
        } else if (start.length != 0 && end.length == 0) {

            return alert('开始日期不能为空！！!')
        }


        };
    $(function () {
             $('#datetimepicker1').datetimepicker({
                format: 'YYYY-MM-DD',//日期格式化，只显示日期
                locale: 'zh-CN',      //中文化
                // maxDate: '2017-01-01',//最大日期
                minDate: '2020-12-01', //最小日期
                showClear: true,
                // viewMode: 'years'
            });
             $('#datetimepicker2').datetimepicker({
                format: 'YYYY-MM-DD',//日期格式化，只显示日期
                locale: 'zh-CN',      //中文化
                // maxDate: '2017-01-01',//最大日期
                minDate: '2010-01-01', //最小日期
                showClear: true,
                // viewMode: 'years'
            });
           
  
        });
    
        function getNowFormatDate() {
            var date = new Date();
            var seperator1 = "-";
            var year = date.getFullYear();
            var month = date.getMonth() + 1;
            var strDate = date.getDate();
            if (month >= 1 && month <= 9) {
                month = "0" + month;
            }
            if (strDate >= 0 && strDate <= 9) {
                strDate = "0" + strDate;
            }
            var currentdate = year + seperator1 + month + seperator1 + strDate;
            alert(currentdate);
        }

 
            
        
    </script>

</html>