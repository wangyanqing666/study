<html>

<head>

    <meta charset="utf-8">
    <title>报表</title>
    <link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://cdn.staticfile.org/jquery/2.1.1/jquery.min.js"></script>
    <script src="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/echarts@4.9.0/dist/echarts.min.js"></script>

</head>

<body>

    <div id="chartmain" style="width:100%; height: 500px;"></div>

    <script type="text/javascript">
    var k1= [
            ['iPhone 11', 10448],
            ['iPhone X', 9336],
            ['iPhone XS Max', 6824],
            ['iPhone XR', 6431],
            ['iPhone 7 Plus', 5148],
            ['iPhone 8 Plus', 4745],
            ['HUAWEI Mate 30 Pro 5G 全网通版', 4713],
            ['HUAWEI Mate 30 5G 全网通版', 3674],
            ['iPhone 11 Pro Max', 3668],
            ['HUAWEI P40 Pro 5G 全网通版', 3658],
            ['HUAWEI P30 全网通版', 3468],
            ['iPhone 8', 3369],
            ['iPhone 7', 3279],
            ['HUAWEI Mate 20 全网通版', 2705],
            ['iPhone 6s Plus', 2686],
            ['HUAWEI Mate 20 Pro 全网通版', 2655],
            ['HUAWEI P40 5G 全网通版', 2482],
            ['iPhone XS', 2353],
            ['iPhone 11 Pro', 2125],
            ['HUAWEI P30 Pro 全网通版 (8GB+128GB)', 2090],
            ['iPhone 6s', 2044],
            ['HUAWEI P30 Pro 全网通版', 1851],
            ['HUAWEI nova 5 Pro 全网通版', 1841],
            ['HUAWEI P20 全网通版', 1784],
            ['HUAWEI Mate 30 全网通版', 1743],
            ['HUAWEI Mate 10 保时捷设计', 1251],
            ['HUAWEI P20 Pro 全网通版', 1210],
            ['HUAWEI Mate 10 全网通版', 1183],
            ['OPPO R15 全网通版', 1166],
            ['荣耀 9X 全网通版', 982],
            ['荣耀 20 全网通版', 981],
            ['HUAWEI Mate 30 Pro 全网通版', 970],
            ['OPPO R17 全网通版', 940],
            ['HUAWEI Mate 9 全网通版', 934],
            ['HONOR View20 Dual SIM', 901],
            ['HUAWEI nova 7 5G 全网通版', 869],
            ['iPhone 6', 814],
            ['HONOR 10 Dual SIM', 759],
            ['HUAWEI nova 3 全网通版', 755],
            ['iPhone SE2', 731],
            ['HUAWEI nova 4 全网通版', 718],
            ['iPhone 6 Plus', 704],
            ['HUAWEI Mate 20 X 全网通版', 662]
        ]
            appl1 = []
            iosl2 = []
            var appqudao = k1.map(function (item) {
                if (item[0].indexOf('iPhone') == -1 ) {
                    appl1.push(item);

                } else {
                    iosl2.push(item);
                };

            });

            var appbanben = appl1.map(function (item) {
                return item[0];
            });
            var appcn = appl1.map(function (item) {
                return item[1];
            });
            var iosappbanben = iosl2.map(function (item) {
                    return item[0];
                });
                var iosappcn = iosl2.map(function (item) {
                    return item[1];
                });
       
      
               option = {

                tooltip: {
                    trigger: 'axis',
                    axisPointer: {
                        type: 'shadow',
                        label: {
                            show: true
                        }
                    }
                },
                toolbox: {
                    show: true,
                    feature: {
                        mark: { show: true },
                        dataView: { show: true, readOnly: false },
                        magicType: { show: true, type: ['line', 'bar'] },
                        restore: { show: true },
                        saveAsImage: { show: true }
                    }
                },
                calculable: true,
                legend: {
                    data: ['安卓','IOS'],
                    itemGap: 5
                },
                grid: {
                    top: '12%',
                    left: '1%',
                    right: '10%',
                    containLabel: true
                },
                xAxis: [
                    {
                        type: 'category',
                        data: appbanben,
                        // axisPointer: {
                        //     type: 'shadow'
                        // }}
                        axisLabel: {
                            interval: 0,
                            // rotate: 40  ,//斜体展示
                            formatter: function (value) {
                                var ret = "";//拼接加\n返回的类目项
                                var maxLength = 4;//每项显示文字个数
                                var valLength = value.length;//X轴类目项的文字个数
                                var rowN = Math.ceil(valLength / maxLength); //类目项需要换行的行数
                                if (rowN > 1)//如果类目项的文字大于3,
                                {
                                    for (var i = 0; i < rowN; i++) {
                                        var temp = "";//每次截取的字符串
                                        var start = i * maxLength;//开始截取的位置
                                        var end = start + maxLength;//结束截取的位置
                                        //这里也可以加一个是否是最后一行的判断，但是不加也没有影响，那就不加吧
                                        temp = value.substring(start, end) + "\n";
                                        ret += temp; //拼接最终的字符串
                                    }
                                    return ret;
                                }
                                else {
                                    return value;
                                }
                            }
                        }
                    },
                    {
                        type: 'category',
                        data: iosappbanben,
                        // axisPointer: {
                        //     type: 'shadow'
                        // }}
                        axisLabel: {
                            interval: 0,
                            // rotate: 40  ,//斜体展示
                            formatter: function (value) {
                                var ret = "";//拼接加\n返回的类目项
                                var maxLength = 4;//每项显示文字个数
                                var valLength = value.length;//X轴类目项的文字个数
                                var rowN = Math.ceil(valLength / maxLength); //类目项需要换行的行数
                                if (rowN > 1)//如果类目项的文字大于3,
                                {
                                    for (var i = 0; i < rowN; i++) {
                                        var temp = "";//每次截取的字符串
                                        var start = i * maxLength;//开始截取的位置
                                        var end = start + maxLength;//结束截取的位置
                                        //这里也可以加一个是否是最后一行的判断，但是不加也没有影响，那就不加吧
                                        temp = value.substring(start, end) + "\n";
                                        ret += temp; //拼接最终的字符串
                                    }
                                    return ret;
                                }
                                else {
                                    return value;
                                }
                            }
                        }
                    }
                    
                ],
                yAxis: [
                    {
                        type: 'value',
                        name: '订单量',

                        axisLabel: {
                            formatter: '{value} 量'
                        }
                    }
                ],
                dataZoom: [
                    {
                        show: true,
                        start: 0,
                        end: 100
                    },
                    {
                        type: 'inside',
                        start: 94,
                        end: 100
                    },
                    // {
                    //     show: true,
                    //     yAxisIndex: 0,
                    //     filterMode: 'empty',
                    //     width: 30,
                    //     height: '80%',
                    //     showDataShadow: false,
                    //     left: '93%'
                    // }
                ],
                series: [
                    {
                        name: '安卓',
                        type: 'bar',
                        data: appcn,
                        xAxisIndex:'0'
                    },
                    {
                        name: 'IOS',
                        type: 'bar',
                         xAxisIndex: '1',
                        data: iosappcn
                    }
                   
                ]
            };


            //初始化echarts实例
        var myChart = echarts.init(document.getElementById('chartmain'));

        //使用制定的配置项和数据显示图表
        myChart.setOption(option);

    </script>
</body>

</html>